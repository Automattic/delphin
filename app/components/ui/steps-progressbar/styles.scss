@import 'app/styles/colors.scss';

$step-inner-dot-size: 14px;
$step-dot-size: 30px;
$step-line-size: 8px;
$inactive-step-color: $light-blue;
$active-step-color: #c8d7e1;
$inner-dot-color: $gray-blue;

.progressbar {
	display: flex;
}

.progressbar-step {
	display: flex;
	flex-direction: column;
	justify-content: center;
	flex: 1;

	&:after {
		background-color: $inactive-step-color;
		content: ' ';
		width: 100%;
		height: $step-line-size;
		margin-top: -$step-line-size/2;
	}

	&:first-child {
		&:after {
			background-color: $inactive-step-color;
			content: ' ';
			width: 50%;
			margin-left: 50%;
			height: $step-line-size;
			margin-top: -$step-line-size/2;
		}
	}

	&:last-child {
		&:after {
			background-color: $inactive-step-color;
			content: ' ';
			width: 50%;
			height: $step-line-size;
			margin-top: -$step-line-size/2;
		}
	}
}

.progressbar-step-active {
	&:first-child,
	&:last-child {
		&:after {
			background-color: $active-step-color;
		}
	}

	&:after {
		background-color: $active-step-color;
	}

	.progressbar-step-dot {
		&:before {
			background-color: $active-step-color;
		}
	}
}

.progressbar-step-last-active {
	position: relative;

	&:before {
		position: absolute;
			bottom: 0;

		background-color: $inactive-step-color;
		content: ' ';
		width: 50%;
		margin-left: 50%;
		height: $step-line-size;
		margin-top: -$step-line-size/2;
	}

	&:last-child {
		&:before {
			width: 0;
			height: 0;
		}
	}
}

@mixin dot-styles( $size, $color ) {
	position: absolute;
		left: 50%;
		margin-left: -$size/2;
		top: 50%;
		margin-top: -$size/2;

	width: $size;
	height: $size;

	border-radius: 50%;
	background-color: $color;

	content: ' ';
}

.progressbar-step-caption {
	text-transform: uppercase;
	text-align: center;
	color: $inner-dot-color;
	font-size: 1.3rem;
}

.progressbar-step-dot {
	position: relative;
	margin-top: 2.5em;

	&:before {
		@include dot-styles( $step-dot-size, $inactive-step-color )
	}

	&:after {
		@include dot-styles( $step-inner-dot-size, $inner-dot-color )
	}
}